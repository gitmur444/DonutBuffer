# üìè –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ª–∏–º–∏—Ç–∞–º System Prompt

## üìä **–¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä –Ω–∞—à–µ–≥–æ –ø—Ä–æ–º–ø—Ç–∞**

```
üìù –°–∏–º–≤–æ–ª—ã: 2,661
üìÑ –°—Ç—Ä–æ–∫–∏: 60  
üìñ –°–ª–æ–≤–∞: 295
ü™ô –¢–æ–∫–µ–Ω—ã: ~665
```

## üö¶ **–õ–∏–º–∏—Ç—ã OpenAI API**

### **GPT-4o / GPT-4**
- **–û–±—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**: 128,000 —Ç–æ–∫–µ–Ω–æ–≤
- **System prompt**: –¥–æ ~60,000 —Ç–æ–∫–µ–Ω–æ–≤ (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏)
- **–ù–∞—à –ø—Ä–æ–º–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç**: 0.5% –æ—Ç –ª–∏–º–∏—Ç–∞ ‚úÖ
- **–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å**: ~59,335 —Ç–æ–∫–µ–Ω–æ–≤

### **GPT-3.5-turbo**
- **–û–±—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**: 16,385 —Ç–æ–∫–µ–Ω–æ–≤
- **System prompt**: –¥–æ ~8,000 —Ç–æ–∫–µ–Ω–æ–≤ (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏)
- **–ù–∞—à –ø—Ä–æ–º–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç**: 4.1% –æ—Ç –ª–∏–º–∏—Ç–∞ ‚úÖ
- **–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å**: ~7,335 —Ç–æ–∫–µ–Ω–æ–≤

## üìê **–ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–æ–∫–µ–Ω—ã?**

### **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
- **–¢–æ–∫–µ–Ω** - –±–∞–∑–æ–≤–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ –≤ LLM
- **1 —Ç–æ–∫–µ–Ω** ‚âà 4 —Å–∏–º–≤–æ–ª–∞ (–¥–ª—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ)
- **1 —Ç–æ–∫–µ–Ω** ‚âà 0.75 —Å–ª–æ–≤–∞ (–≤ —Å—Ä–µ–¥–Ω–µ–º)

### **–ü—Ä–∏–º–µ—Ä—ã —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏**
```
"Hello" ‚Üí 1 —Ç–æ–∫–µ–Ω
"Hello world" ‚Üí 2 —Ç–æ–∫–µ–Ω–∞
"AI Test Planner" ‚Üí 3 —Ç–æ–∫–µ–Ω–∞
"{"id": "test"}" ‚Üí 5 —Ç–æ–∫–µ–Ω–æ–≤
```

## üéØ **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ª–∏–º–∏—Ç—ã**

### ‚úÖ **–†–∞–∑–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤**
| –†–∞–∑–º–µ—Ä | –¢–æ–∫–µ–Ω—ã | –û—Ü–µ–Ω–∫–∞ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|--------|---------|---------|---------------|
| –ú–∞–ª–µ–Ω—å–∫–∏–π | < 1,000 | ‚úÖ –û—Ç–ª–∏—á–Ω–æ | –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å |
| –°—Ä–µ–¥–Ω–∏–π | 1,000-5,000 | ‚úÖ –•–æ—Ä–æ—à–æ | –ú–µ—Å—Ç–æ –µ—Å—Ç—å |
| –ë–æ–ª—å—à–æ–π | 5,000-10,000 | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–µ | –°–ª–µ–¥–∏—Ç—å –∑–∞ —Ä–æ—Å—Ç–æ–º |
| –û—á–µ–Ω—å –±–æ–ª—å—à–æ–π | > 10,000 | ‚ùå –ú–Ω–æ–≥–æ | –ù—É–∂–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |

### üìà **–ù–∞—à —Å—Ç–∞—Ç—É—Å**: –û–¢–õ–ò–ß–ù–´–ô (665 —Ç–æ–∫–µ–Ω–æ–≤)

## üöÄ **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è**

### **–ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–º–ø—Ç:**

#### üîß **–ù–æ–≤—ã–µ —Ç–∏–ø—ã —É–∑–ª–æ–≤** (~100-300 —Ç–æ–∫–µ–Ω–æ–≤ –∑–∞ —É–∑–µ–ª)
```
7. FileRead - Read file contents
params: {"path": "file.txt", "lines": "1-10"}
- Use for: reading logs, configs, code files
- Supports line ranges and encoding detection
```

#### üìä **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î** (~200-500 —Ç–æ–∫–µ–Ω–æ–≤)
```
Extended database schema:
- performance_metrics: benchmark_id, test_name, cpu_usage, memory_mb, duration_ms
- test_history: run_id, test_suite, timestamp, environment, git_commit
- failure_analysis: failure_id, test_name, error_type, stack_trace, fix_suggestion
```

#### üéØ **–ë–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤** (~150-300 —Ç–æ–∫–µ–Ω–æ–≤ –∑–∞ –ø—Ä–∏–º–µ—Ä)
```
Example with multiple nodes:
{
  "nodes": [
    {"id": "logs", "type": "FileRead", "params": {"path": "test.log"}},
    {"id": "analysis", "type": "LLMFormat", "params": {"prompt": "Analyze errors"}}
  ],
  "edges": [{"source": "logs", "target": "analysis"}]
}
```

#### üìù **–î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** (~100-500 —Ç–æ–∫–µ–Ω–æ–≤)
```
Planning guidelines:
- Use Chat for simple Q&A and conversations
- Use TestDB for data queries and analysis  
- Use Shell for file operations and system commands
- Chain nodes with LLMFormat for human-readable output
```

## ‚ö†Ô∏è **–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**

### **–°–∏–≥–Ω–∞–ª—ã —á—Ç–æ –ø—Ä–æ–º–ø—Ç —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π:**
1. **–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** - –±–æ–ª—å—à–æ–π –ø—Ä–æ–º–ø—Ç = –±–æ–ª—å—à–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
2. **–í—ã—Å–æ–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω —Å—Ç–æ–∏—Ç –¥–µ–Ω–µ–≥
3. **–û—à–∏–±–∫–∏ API** - –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤
4. **–ü–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ** - —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ = –ø—É—Ç–∞–Ω–∏—Ü–∞

### **–¢–µ—Ö–Ω–∏–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**

#### üîÑ **–í—ã–Ω–æ—Å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã**
```python
# –í–º–µ—Å—Ç–æ –¥–ª–∏–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ –≤ –∫–æ–¥–µ
with open('prompts/node_descriptions.txt', 'r') as f:
    node_descriptions = f.read()

system_prompt = f"""
You are AI Test Assistant.
{node_descriptions}
Return only JSON.
"""
```

#### üì¶ **–ú–æ–¥—É–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã**
```python
def build_system_prompt(include_examples=True, include_extended_schema=False):
    prompt = BASE_PROMPT
    
    if include_examples:
        prompt += EXAMPLES_SECTION
    
    if include_extended_schema:
        prompt += EXTENDED_SCHEMA
    
    return prompt
```

#### üéØ **–£—Å–ª–æ–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**
```python
# –ó–∞–≥—Ä—É–∂–∞—Ç—å –¥–µ—Ç–∞–ª–∏ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ
if task_requires_database:
    system_prompt += DATABASE_SCHEMA
    
if task_requires_files:
    system_prompt += FILE_OPERATIONS
```

## üí∞ **–°—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤**

### **–¶–µ–Ω—ã (–ø—Ä–∏–º–µ—Ä–Ω—ã–µ)**
- **GPT-4o**: $5/1M input —Ç–æ–∫–µ–Ω–æ–≤
- **GPT-3.5**: $0.5/1M input —Ç–æ–∫–µ–Ω–æ–≤

### **–ù–∞—à –ø—Ä–æ–º–ø—Ç**
- **GPT-4o**: $0.003 –∑–∞ –∑–∞–ø—Ä–æ—Å
- **GPT-3.5**: $0.0003 –∑–∞ –∑–∞–ø—Ä–æ—Å

**–≠–∫–æ–Ω–æ–º–∏—è**: –Ω–∞—à –º–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–æ–º–ø—Ç = –Ω–∏–∑–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å! üí∞

## üìã **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**

### ‚úÖ **–ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å**
1. **–ü—Ä–æ–º–ø—Ç –æ—Ç–ª–∏—á–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞** - –º–æ–∂–Ω–æ —Å–º–µ–ª–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å
2. **–î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —É–∑–ª—ã** –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
3. **–ë–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤** –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** –¥–ª—è edge cases

### üöÄ **–ü–ª–∞–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è**
1. **FileRead —É–∑–µ–ª** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏
2. **Performance —É–∑–µ–ª** –¥–ª—è –±–µ–Ω—á–º–∞—Ä–∫–æ–≤  
3. **Git —É–∑–µ–ª** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º
4. **Docker —É–∑–µ–ª** –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

### üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å `analyze_prompt_size.py`
- –°–ª–µ–¥–∏—Ç—å –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò–∑–º–µ—Ä—è—Ç—å –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å

## üéØ **–ò—Ç–æ–≥**

**–ù–∞—à system_prompt –∏–º–µ–µ—Ç –û–¢–õ–ò–ß–ù–´–ô —Ä–∞–∑–º–µ—Ä!**

- ‚úÖ –ú–∞–ª–µ–Ω—å–∫–∏–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π (665 —Ç–æ–∫–µ–Ω–æ–≤)
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã
- ‚úÖ –ù–∏–∑–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å  
- ‚úÖ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –û–≥—Ä–æ–º–Ω—ã–π –∑–∞–ø–∞—Å –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

**–ú–æ–∂–Ω–æ —Å–º–µ–ª–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å!** üöÄ 